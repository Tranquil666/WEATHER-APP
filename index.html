<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App - Real-time Weather Information</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Main Container -->
    <div class="main-container">
        <!-- Header -->
        <h1 class="weather-title">Weather</h1>
        
        <!-- Search Container -->
        <div class="search-container">
            <div class="row g-3 align-items-center">
                <div class="col-md-6">
                    <input type="text" id="cityInput" class="form-control search-input" 
                           placeholder="ğŸ” Search for any city worldwide..." 
                           title="Enter a city name like 'New York', 'London', or 'Tokyo'">
                </div>
                <div class="col-md-3">
                    <button id="searchBtn" class="btn btn-primary w-100 search-btn">
                        <i class="bi bi-search"></i> Search
                    </button>
                </div>
                <div class="col-md-3">
                    <button id="locationBtn" class="btn btn-outline-light w-100 location-btn">
                        <i class="bi bi-geo-alt"></i> My Location
                    </button>
                </div>
            </div>
            
            <!-- Favorite Cities -->
            <div id="favoriteCitiesSection" class="favorite-cities-section mt-4 d-none">
                <div class="favorite-cities-title">â­ Favorite Locations</div>
                <div id="favoriteCitiesGrid" class="row g-2 mt-2"></div>
            </div>

            <!-- Popular Cities -->
            <div class="popular-cities-section mt-4">
                <div class="popular-cities-title">ğŸŒ Popular Destinations</div>
                <div class="row g-2 mt-2">
                    <div class="col-6 col-md-3">
                        <button class="btn btn-outline-light w-100 city-btn" data-city="New York">ğŸ™ï¸ New York</button>
                    </div>
                    <div class="col-6 col-md-3">
                        <button class="btn btn-outline-light w-100 city-btn" data-city="London">ğŸ™ï¸ London</button>
                    </div>
                    <div class="col-6 col-md-3">
                        <button class="btn btn-outline-light w-100 city-btn" data-city="Tokyo">ğŸ™ï¸ Tokyo</button>
                    </div>
                    <div class="col-6 col-md-3">
                        <button class="btn btn-outline-light w-100 city-btn" data-city="Paris">ğŸ™ï¸ Paris</button>
                    </div>
                    <div class="col-6 col-md-3">
                        <button class="btn btn-outline-light w-100 city-btn" data-city="Sydney">ğŸ™ï¸ Sydney</button>
                    </div>
                    <div class="col-6 col-md-3">
                        <button class="btn btn-outline-light w-100 city-btn" data-city="Mumbai">ğŸ™ï¸ Mumbai</button>
                    </div>
                    <div class="col-6 col-md-3">
                        <button class="btn btn-outline-light w-100 city-btn" data-city="Dubai">ğŸ™ï¸ Dubai</button>
                    </div>
                    <div class="col-6 col-md-3">
                        <button class="btn btn-outline-light w-100 city-btn" data-city="Singapore">ğŸ™ï¸ Singapore</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading Spinner -->
        <div id="loadingSpinner" class="text-center d-none">
            <div class="spinner-border text-light" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <div class="mt-2 text-light">Loading weather data...</div>
        </div>

        <!-- Weather Content -->
        <div id="weatherContent" class="d-none">
            <!-- Location Info -->
            <div id="locationInfo" class="location-info">
                <div class="location-content">
                    <div class="location-text"></div>
                    <button id="favoriteBtn" class="btn btn-outline-light btn-sm favorite-btn d-none">
                        <i class="bi bi-star"></i> Add to Favorites
                    </button>
                </div>
            </div>

            <!-- Weather Tabs -->
            <ul class="nav nav-tabs weather-tabs" id="weatherTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="current-tab" data-bs-toggle="tab" data-bs-target="#current" type="button" role="tab">Current</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="forecast-tab" data-bs-toggle="tab" data-bs-target="#forecast" type="button" role="tab">Forecast</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="charts-tab" data-bs-toggle="tab" data-bs-target="#charts" type="button" role="tab">Charts</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="details-tab" data-bs-toggle="tab" data-bs-target="#details" type="button" role="tab">Details</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="ai-insights-tab" data-bs-toggle="tab" data-bs-target="#ai-insights" type="button" role="tab">ğŸ¤– AI Insights</button>
                </li>
            </ul>

            <!-- Tab Content -->
            <div class="tab-content" id="weatherTabContent">
                <!-- Current Weather Tab -->
                <div class="tab-pane fade show active" id="current" role="tabpanel">
                    <!-- Controls Row -->
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <!-- Theme Toggle -->
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="themeToggle">
                            <label class="form-check-label text-light" for="themeToggle">
                                ğŸŒ™ Dark Mode
                            </label>
                        </div>
                        
                        <!-- Weather Sounds Toggle -->
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="soundToggle" checked>
                            <label class="form-check-label text-light" for="soundToggle">
                                ğŸ”Š Weather Sounds
                            </label>
                        </div>
                    </div>

                    <!-- Audio Element -->
                    <audio id="weatherAudio" loop></audio>

                    <!-- Main Weather Display -->
                    <div id="mainWeather" class="weather-main"></div>

                    <!-- Activity Recommendations -->
                    <div id="activityRecommendations" class="activity-section d-none">
                        <h3 class="text-light mb-3">ğŸ¯ Recommended Activities</h3>
                        <div id="activitiesGrid" class="row g-3"></div>
                    </div>

                    <!-- Weather Metrics -->
                    <div id="weatherMetrics" class="metric-grid"></div>

                    <!-- Air Quality Info -->
                    <div id="airQualityInfo" class="air-quality-section d-none"></div>

                    <!-- Lifestyle Tips -->
                    <div id="lifestyleTips" class="lifestyle-section d-none"></div>
                </div>

                <!-- Forecast Tab -->
                <div class="tab-pane fade" id="forecast" role="tabpanel">
                    <!-- 5-Day Forecast -->
                    <div class="forecast-section">
                        <h3 class="forecast-title">ğŸ“… 5-Day Weather Forecast</h3>
                        <div id="forecastGrid" class="forecast-grid"></div>
                    </div>

                    <hr class="text-light">

                    <!-- Hourly Forecast -->
                    <div class="forecast-section">
                        <h3 class="forecast-title">â° 12-Hour Detailed Forecast</h3>
                        <div id="hourlyForecast" class="hourly-container"></div>
                    </div>
                </div>

                <!-- Charts Tab -->
                <div class="tab-pane fade" id="charts" role="tabpanel">
                    <div class="row g-4">
                        <div class="col-md-6">
                            <div class="chart-container">
                                <canvas id="temperatureChart"></canvas>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="chart-container">
                                <canvas id="hourlyChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Details Tab -->
                <div class="tab-pane fade" id="details" role="tabpanel">
                    <h3 class="text-light mb-4">ğŸ“Š Detailed Weather Information</h3>
                    <div class="row g-4">
                        <div class="col-md-6">
                            <div id="sunMoonInfo" class="details-card"></div>
                            <div id="airQualityDetails" class="details-card mt-4"></div>
                        </div>
                        <div class="col-md-6">
                            <div id="atmosphericInfo" class="details-card"></div>
                            <div id="weatherAlerts" class="details-card mt-4"></div>
                        </div>
                    </div>
                    <div id="extendedTips" class="details-card mt-4"></div>
                    <div id="weeklySummary" class="details-card mt-4"></div>
                </div>

                <!-- AI Insights Tab -->
                <div class="tab-pane fade" id="ai-insights" role="tabpanel">
                    <div class="ai-loading d-none text-center">
                        <div class="ai-spinner">ğŸ¤–</div>
                        <div class="mt-2 text-light">AI is analyzing weather patterns...</div>
                    </div>
                    
                    <div id="aiInsightsContent">
                        <!-- Weather Story -->
                        <div id="weatherStory" class="ai-story-card mb-4"></div>
                        
                        <!-- AI Analysis Grid -->
                        <div class="row g-4">
                            <div class="col-md-6">
                                <div id="patternAnalysis" class="ai-insight-card"></div>
                                <div id="predictiveInsights" class="ai-insight-card mt-4"></div>
                            </div>
                            <div class="col-md-6">
                                <div id="personalizedRecommendations" class="ai-insight-card"></div>
                                <div id="healthComfort" class="ai-insight-card mt-4"></div>
                            </div>
                        </div>
                        
                        <!-- Smart Tips and Risk Assessment -->
                        <div class="row g-4 mt-2">
                            <div class="col-md-6">
                                <div id="smartTips" class="ai-insight-card"></div>
                            </div>
                            <div class="col-md-6">
                                <div id="riskAssessment" class="ai-insight-card"></div>
                            </div>
                        </div>
                        
                        <!-- AI Attribution -->
                        <div class="ai-attribution mt-4">
                            <small class="text-muted">
                                <i class="bi bi-robot"></i> Powered by Gemini AI â€¢ 
                                Generated at <span id="aiTimestamp"></span>
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Welcome Screen -->
        <div id="welcomeScreen" class="welcome-screen">
            <div class="welcome-card">
                <div class="welcome-icon">ğŸŒ</div>
                <div class="welcome-title">Welcome to Weather</div>
                <div class="welcome-subtitle">
                    Get real-time weather data with beautiful visualizations<br>
                    <span class="welcome-note">Search manually, use popular cities, or click "My Location" for instant weather</span>
                </div>
            </div>

            <!-- Quick Start Options -->
            <div class="quick-start-title">ğŸš€ Quick Start Options</div>
            <div class="row g-3 mt-3">
                <div class="col-6 col-md-3">
                    <div class="quick-start-card">
                        <div class="quick-start-icon">ğŸ“</div>
                        <div class="quick-start-text">Auto-detect location</div>
                    </div>
                </div>
                <div class="col-6 col-md-3">
                    <div class="quick-start-card">
                        <div class="quick-start-icon">ğŸ”</div>
                        <div class="quick-start-text">Search any city</div>
                    </div>
                </div>
                <div class="col-6 col-md-3">
                    <div class="quick-start-card">
                        <div class="quick-start-icon">ğŸŒ</div>
                        <div class="quick-start-text">Popular destinations</div>
                    </div>
                </div>
                <div class="col-6 col-md-3">
                    <div class="quick-start-card">
                        <div class="quick-start-icon">ğŸµ</div>
                        <div class="quick-start-text">Weather sounds</div>
                    </div>
                </div>
            </div>

            <!-- Auto-detected Location -->
            <div id="detectedLocation" class="detected-location d-none"></div>

            <!-- Feature Cards -->
            <div class="features-title">âœ¨ App Features</div>
            <div class="row g-4 mt-3">
                <div class="col-md-4">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸŒ¡ï¸</div>
                        <div class="feature-title">Current Weather</div>
                        <div class="feature-text">Real-time temperature, conditions, AQI, and detailed metrics</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“…</div>
                        <div class="feature-title">5-Day Forecast</div>
                        <div class="feature-text">Extended predictions with sunrise, sunset, and lifestyle tips</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“Š</div>
                        <div class="feature-title">Interactive Charts</div>
                        <div class="feature-text">Visual weather trends and comprehensive data analysis</div>
                    </div>
                </div>
            </div>

            <!-- Sound Test Section -->
            <div class="sound-test-section">
                <div class="sound-test-title">ğŸµ Test Weather Sounds</div>
                <div class="sound-test-subtitle">Experience immersive weather sounds that match current conditions</div>
                <div class="row g-3 mt-3">
                    <div class="col-md-4">
                        <button class="btn btn-outline-light w-100 sound-test-btn" data-sound="rain">ğŸŒ§ï¸ Rain Sound</button>
                    </div>
                    <div class="col-md-4">
                        <button class="btn btn-outline-light w-100 sound-test-btn" data-sound="thunder">â›ˆï¸ Thunder Sound</button>
                    </div>
                    <div class="col-md-4">
                        <button class="btn btn-outline-light w-100 sound-test-btn" data-sound="wind">ğŸ’¨ Wind Sound</button>
                    </div>
                </div>
            </div>

            <!-- Privacy Notice -->
            <div class="privacy-notice">
                Auto-location uses IP geolocation (approximate) and doesn't access device GPS
            </div>
        </div>

        <!-- Error Messages -->
        <div id="errorMessage" class="alert alert-danger d-none" role="alert"></div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JavaScript -->
    <script src="app.js"></script>
</body>
</html>
